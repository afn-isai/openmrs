{
    "name": "component_lab-orders-v1.0",
    "uuid": "xxxx",
    "processor": "EncounterFormProcessor",
    "pages": [
        {
            "label": "Test orders",
            "sections": [
                {
                    "label": "Test Orders",
                    "isExpanded": "true",
                    "questions": [
                        {
                            "type": "obsGroup",
                            "label": "Test orders",
                            "questionOptions": {
                                "concept": "af46861e-597a-48a3-b3d4-a134d0b1c5fa",
                                "rendering": "group"
                            },
                            "questions": [
                                {
                                    "label": "Tests Ordered",
                                    "id": "order1",
                                    "type": "testOrder",
                                    "questionOptions": {
                                        "rendering": "repeating",
                                        "orderSettingUuid": "6f0c9a92-6f24-11e3-af88-005056821db0",
                                        "orderType": "testorder",
                                        "selectableOrders": [
                                            {
                                                "concept": "a8982474-1350-11df-a1f1-0026b9348838",
                                                "label": "Viral load"
                                            },
                                            {
                                                "concept": "a896cce6-1350-11df-a1f1-0026b9348838",
                                                "label": "CD4"
                                            },
                                            {
                                                "concept": "7243bed9-0bc7-4702-af28-a06ab1981e19",
                                                "label": "Crag test"
                                            },
                                            {
                                                "concept": "57677735-4310-4841-8902-dae4bac24d20",
                                                "label": "DST"
                                            },
                                            {
                                                "concept": "a898fe80-1350-11df-a1f1-0026b9348838",
                                                "label": "HIV DNA PCR "
                                            },
                                            {
                                                "concept": "a8908192-1350-11df-a1f1-0026b9348838",
                                                "label": "CXR"
                                            },
                                            {
                                                "concept": "a8945d4e-1350-11df-a1f1-0026b9348838",
                                                "label": "Sputum AFB"
                                            },
                                            {
                                                "concept": "a897e450-1350-11df-a1f1-0026b9348838",
                                                "label": "Creatinine"
                                            },
                                            {
                                                "concept": "a898f50c-1350-11df-a1f1-0026b9348838",
                                                "label": "CBC"
                                            },
                                            {
                                                "concept": "a896ca48-1350-11df-a1f1-0026b9348838",
                                                "label": "SGPT(ALT)"
                                            },
                                            {
                                                "concept": "a896c8ae-1350-11df-a1f1-0026b9348838",
                                                "label": "AST"
                                            },
                                            {
                                                "concept": "a8970a26-1350-11df-a1f1-0026b9348838",
                                                "label": " CD4 %"
                                            },
                                            {
                                                "concept": "a8999fb6-1350-11df-a1f1-0026b9348838",
                                                "label": "Elisa"
                                            },
                                            {
                                                "concept": "a8999dfe-1350-11df-a1f1-0026b9348838",
                                                "label": "Rapid HIV "
                                            },
                                            {
                                                "concept": "a8a47094-1350-11df-a1f1-0026b9348838",
                                                "label": "TB PCR "
                                            },
                                            {
                                                "concept": "741517cf-8bac-4755-b289-8dd2a2df7962",
                                                "label": "Gene Xpert"
                                            },
                                            {
                                                "concept": "a8908a16-1350-11df-a1f1-0026b9348838",
                                                "label": "Hgb"
                                            },
                                            {
                                                "concept": "a8a462a2-1350-11df-a1f1-0026b9348838",
                                                "label": "TB Culture"
                                            },
                                            {
                                                "concept": "a8945678-1350-11df-a1f1-0026b9348838",
                                                "label": "VDRL"
                                            },
                                            {
                                                "concept": "a894590c-1350-11df-a1f1-0026b9348838",
                                                "label": "Urinalysis"
                                            },
                                            {
                                                "concept": "a8af7520-1350-11df-a1f1-0026b9348838",
                                                "label": "HbA1C"
                                            },
                                            {
                                                "concept": "7129af13-e39a-43b0-9923-6d1de22c9c5e",
                                                "label": "Microalbumin"
                                            },
                                            {
                                                "concept": "a89a7418-1350-11df-a1f1-0026b9348838",
                                                "label": "Potassium"
                                            },
                                            {
                                                "concept": "a89dda72-1350-11df-a1f1-0026b9348838",
                                                "label": "ECGn"
                                            },
                                            {
                                                "concept": "a89dd9aa-1350-11df-a1f1-0026b9348838",
                                                "label": "Echo"
                                            }
                                        ]
                                    }
                                },
                                {
                                    "label": "Test ordered: Other (specify):",
                                    "questionOptions": {
                                        "concept": "a8a06fc6-1350-11df-a1f1-0026b9348838",
                                        "rendering": "text"
                                    },
                                    "type": "obs",
                                    "validators": []
                                },
                                {
                                    "label": "Viral load justification:",
                                    "type": "obs",
                                    "id": "vljust",
                                    "questionOptions": {
                                        "concept": "0a98f01f-57f1-44b7-aacf-e1121650a967",
                                        "rendering": "select",
                                        "answers": [
                                            {
                                                "concept": "5931c4d4-4406-4d71-b75d-2205d905cc24",
                                                "label": "Routine VL"
                                            },
                                            {
                                                "concept": "e43ddeb6-3984-499c-a280-3bade1039608",
                                                "label": "Confirmation of treatment failure (repeat VL)"
                                            },
                                            {
                                                "concept": "a8981934-1350-11df-a1f1-0026b9348838",
                                                "label": "Clinical failure"
                                            },
                                            {
                                                "concept": "a8a00158-1350-11df-a1f1-0026b9348838",
                                                "label": "Single drug substitution"
                                            },
                                            {
                                                "concept": "3966e139-ca69-47c6-aad3-ebd41bb45e28",
                                                "label": "Baseline VL (for infants diagnsed through EID)"
                                            },
                                            {
                                                "concept": "42cdefa2-c306-4d10-a819-c04131c4934e",
                                                "label": "Confirmation of persistent low level viremia (PLLV)"
                                            },
                                            {
                                                "concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
                                                "label": "Other"
                                            }
                                        ]
                                    },
                                    "validators": [
                                        {
                                            "type": "js_expression",
                                            "failsWhenExpression": "isEmpty(myValue) && !(isEmpty(order1) || !arrayContains(order1, 'a8982474-1350-11df-a1f1-0026b9348838'))",
                                            "message": "Viral load required."
                                        }
                                    ],
                                    "hide": {
                                        "hideWhenExpression": "isEmpty(order1) || !arrayContains(order1, 'a8982474-1350-11df-a1f1-0026b9348838')"
                                    }
                                },
                                {
                                    "label": "PMTCT patient category:",
                                    "required": "true",
                                    "type": "obs",
                                    "id": "patCategory1",
                                    "questionOptions": {
                                        "concept": "a89eea66-1350-11df-a1f1-0026b9348838",
                                        "rendering": "select",
                                        "answers": [
                                            {
                                                "concept": "a89d109c-1350-11df-a1f1-0026b9348838",
                                                "label": "Pregnant"
                                            },
                                            {
                                                "concept": "a8a18208-1350-11df-a1f1-0026b9348838",
                                                "label": "Breastfeeding"
                                            },
                                            {
                                                "concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
                                                "label": "None of the above"
                                            }
                                        ]
                                    },
                                    "validators": [],
                                    "hide": {
                                        "hideWhenExpression": "(!arrayContains(['02e3ce61-fa24-445e-a1f0-6e3299142966','0b1b6194-d2d5-4e4b-9f7c-c3b778ccc354','42de8e7e-24b2-4c16-b62b-137eb2c55ede','b1a978ca-9315-4ba2-ac2b-84efb9a68c5c','53954785-4d53-4012-8f30-1c37fa870906','53b856ad-21ef-4745-9acd-81aca01bba31'],visitTypeUuid)) || (isEmpty(order1) || !arrayContains(order1, 'a8982474-1350-11df-a1f1-0026b9348838'))"
                                    }
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    ],
    "version": "1.0",
    "published": true,
    "retired": false,
    "encounter": "ACTGADULTRETURN"
}